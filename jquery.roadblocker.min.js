!function(e){!function(e){if("function"==typeof define&&define.amd)define(e);else if("object"==typeof exports)module.exports=e();else{var o=window.Cookies,n=window.Cookies=e();n.noConflict=function(){return window.Cookies=o,n}}}(function(){function e(){for(var e=0,o={};e<arguments.length;e++){var n=arguments[e];for(var t in n)o[t]=n[t]}return o}function o(n){function t(o,i,s){var r;if("undefined"!=typeof document){if(arguments.length>1){if(s=e({path:"/"},t.defaults,s),"number"==typeof s.expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*s.expires),s.expires=a}try{r=JSON.stringify(i),/^[\{\[]/.test(r)&&(i=r)}catch(l){}return i=n.write?n.write(i,o):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),o=encodeURIComponent(String(o)),o=o.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),o=o.replace(/[\(\)]/g,escape),document.cookie=[o,"=",i,s.expires?"; expires="+s.expires.toUTCString():"",s.path?"; path="+s.path:"",s.domain?"; domain="+s.domain:"",s.secure?"; secure":""].join("")}o||(r={});for(var c=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,p=0;p<c.length;p++){var u=c[p].split("="),f=u.slice(1).join("=");'"'===f.charAt(0)&&(f=f.slice(1,-1));try{var h=u[0].replace(d,decodeURIComponent);if(f=n.read?n.read(f,h):n(f,h)||f.replace(d,decodeURIComponent),this.json)try{f=JSON.parse(f)}catch(l){}if(o===h){r=f;break}o||(r[h]=f)}catch(l){}}return r}}return t.set=t,t.get=function(e){return t(e)},t.getJSON=function(){return t.apply({json:!0},[].slice.call(arguments))},t.defaults={},t.remove=function(o,n){t(o,"",e(n,{expires:-1}))},t.withConverter=o,t}return o(function(){})}),e.fn.roadblocker=function(o,n){var t,i,s=e.extend({timesPerSession:1,totalTimesToShow:3,waitTime:1e4,ignorePaths:["/"],singleCloseButton:".roadblocker-close",permanentCloseButton:".roadblocker-permanent-close",onShow:null,onClose:null,log:!1,openClass:"roadblocker-open",closeClass:"roadblocker-closed",defaultDisplayToggle:!0},o),r="roadblocker-permanent",a="roadblocker-session",l="timesDisplayed:",c="neverShow";return this.each(function(){e(this).css("display","none");var o=0,n=0,d=Cookies.get(a);if(void 0!=d&&(i=d.replace(a+"=","").replace(/;.*/,""),o=i.match(/timesDisplayed:(\d*)/)[1],o=parseInt(o),o>=s.timesPerSession))return void(s.log&&console.log("Maximum times to show per session reached, exiting roadblocker..."));var p=Cookies.get(r);if(void 0!=p){if(t=p.replace(r+"=","").replace(/;.*/,""),p.includes(c))return void(s.log&&console.log("Permanent cookie has 'never show' flag set, exiting roadblocker..."));if(n=t.match(/timesDisplayed:(\d*)/)[1],n=parseInt(n),n>=s.totalTimesToShow)return void(s.log&&console.log("Maximum times to show over all time reached, exiting roadblocker..."))}for(var u=location.pathname,f=0;f<s.ignorePaths.length;f++)if(s.ignorePaths[f]==u)return void(s.log&&console.log("Path name matches a name in the ignorePaths list, exiting roadblocker..."));void 0==d&&(d=Cookies.set(a,l+"0"),i=d.replace(a+"=","").replace(/;.*/,"")),void 0==p&&(p=Cookies.set(r,l+"0",{expires:3650}),t=p.replace(r+"=","").replace(/;.*/,""));var h=function(o){var n=e(o);n.addClass(s.closeClass),n.removeClass(s.openClass),s.defaultDisplayToggle&&n.css("display","none"),"function"==typeof s.onClose&&s.onClose.call(o)},m=e(this).children(s.singleCloseButton);m.length||(m=e(s.singleCloseButton)),m.click(function(){h(this)}.bind(this));var g=e(this).children(s.permanentCloseButton);g.length||(g=e(s.permanentCloseButton)),g.click(function(){Cookies.set(a,i+c),Cookies.set(r,t+c,{expires:3650}),h(this)}.bind(this)),setTimeout(function(){s.defaultDisplayToggle&&e(this).css("display",""),e(this).addClass(s.openClass),o++,n++,Cookies.set(a,i.replace(/timesDisplayed:\d/,l+o)),Cookies.set(r,t.replace(/timesDisplayed:\d/,l+o),{expires:3650}),null!=s.onShow&&s.onShow.call(this)}.bind(this),s.waitTime)})}}(jQuery);